{"changed":true,"filter":false,"title":"quiz.js","tooltip":"/4-thequiz/scripts/quiz.js","value":"\"use strict\"\n\nvar quiz = {\n    \n    serverName: \"http://vhost3.lnu.se:20080/question/1\",\n    infoFromServer: \"\",\n    \n    init: function(){\n        \n        document.getElementById(\"getQuestion\").addEventListener(\"click\", quiz.tryGetQuestion);\n        \n        document.getElementById(\"sendAnswear\").addEventListener(\"click\", quiz.trySendQuestion);\n    },\n    \n    tryGetQuestion: function () {\n        var xhr = new XMLHttpRequest();\n        \n        xhr.open(\"GET\", quiz.serverName, true);\n        xhr.onreadystatechange = function(){\n            \n            if(xhr.readyState === 4 && (xhr.status === 200 || xhr.status === 304)){\n                quiz.infoFromServer = JSON.parse(xhr.responseText);\n                quiz.renderMessage();\n            }\n        };\n        \n        xhr.send(null);\n        \n        return false;\n    },\n    \n    trySendQuestion: function(){\n        var answearTextArea = {\"answer\": document.getElementById(\"answearTextArea\").value},\n            nodeAnswerFromServer = document.getElementById(\"answerFromServer\"),\n            xhrSend = new XMLHttpRequest();\n        \n        xhrSend.open(\"POST\", quiz.serverName, true);\n        xhrSend.onreadystatechange = function(){\n            if(xhrSend.readyState === 4 ){\n                if(xhrSend.status === 200 || xhrSend.status === 304){\n                    quiz.infoFromServer = JSON.parse(xhrSend.responseText);\n                    quiz.serverName = quiz.infoFromServer.nextURL;\n                    \n                    if(quiz.infoFromServer.message === \"Correct answer!\"){\n                        nodeAnswerFromServer.innerHTML = \"Du svarade rätt!\";\n                    }\n                    \n                }\n                else if(xhrSend.status === 400){\n                    nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";\n                }\n            }\n            return false;\n        };\n        \n        xhrSend.setRequestHeader('Content-Type', 'application/json');\n        xhrSend.send(JSON.stringify(answearTextArea));\n    },\n    \n    renderMessage: function () {\n        var addToElement = document.getElementById(\"questionElementInQuestionArea\");\n        \n        addToElement.innerHTML = quiz.infoFromServer.question;\n        quiz.serverName = quiz.infoFromServer.nextURL;\n    }\n};\n\nwindow.addEventListener(\"load\", quiz.init);","undoManager":{"mark":96,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":20,"column":61},"end":{"row":20,"column":79},"action":"insert","lines":["xhr.status === 200"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":78},"end":{"row":20,"column":79},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":77},"end":{"row":20,"column":78},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":76},"end":{"row":20,"column":77},"action":"remove","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":76},"end":{"row":20,"column":77},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":77},"end":{"row":20,"column":78},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":78},"end":{"row":20,"column":79},"action":"insert","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":63},"end":{"row":40,"column":64},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":64},"end":{"row":40,"column":65},"action":"insert","lines":["|"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":65},"end":{"row":40,"column":66},"action":"insert","lines":["|"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":66},"end":{"row":40,"column":67},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":67},"end":{"row":40,"column":85},"action":"insert","lines":["xhr.status === 200"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":84},"end":{"row":40,"column":85},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":83},"end":{"row":40,"column":84},"action":"remove","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":82},"end":{"row":40,"column":83},"action":"remove","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":82},"end":{"row":40,"column":83},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":83},"end":{"row":40,"column":84},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":84},"end":{"row":40,"column":85},"action":"insert","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":70},"end":{"row":40,"column":71},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":71},"end":{"row":40,"column":72},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":72},"end":{"row":40,"column":73},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":73},"end":{"row":40,"column":74},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":41},"end":{"row":40,"column":42},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":64},"end":{"row":40,"column":65},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":69},"end":{"row":40,"column":70},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":92},"end":{"row":40,"column":93},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":69},"end":{"row":40,"column":70},"action":"remove","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":64},"end":{"row":40,"column":65},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":39},"end":{"row":20,"column":40},"action":"insert","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":39},"end":{"row":20,"column":40},"action":"remove","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":39},"end":{"row":20,"column":40},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":80},"end":{"row":20,"column":81},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":8},"end":{"row":28,"column":29},"action":"remove","lines":["quiz.renderMessage();"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":67},"end":{"row":22,"column":0},"action":"insert","lines":["",""]},{"start":{"row":22,"column":0},"end":{"row":22,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":16},"end":{"row":22,"column":37},"action":"insert","lines":["quiz.renderMessage();"]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":0},"end":{"row":29,"column":8},"action":"remove","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":8},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":8},"end":{"row":55,"column":21},"action":"remove","lines":["if(quiz.infoFromServer.message === \"correct answer!\"){","            nodeAnswerFromServer.innerHTML = \"Du svarade rätt!\";","        }","        else{","            nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","        }","        ","        return false;"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":62},"end":{"row":43,"column":0},"action":"insert","lines":["",""]},{"start":{"row":43,"column":0},"end":{"row":43,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":16},"end":{"row":50,"column":21},"action":"insert","lines":["if(quiz.infoFromServer.message === \"correct answer!\"){","            nodeAnswerFromServer.innerHTML = \"Du svarade rätt!\";","        }","        else{","            nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","        }","        ","        return false;"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"remove","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"remove","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"remove","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"remove","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"remove","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"remove","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"remove","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"remove","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":4},"action":"insert","lines":["    "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"insert","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":10},"end":{"row":40,"column":12},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":16},"end":{"row":42,"column":0},"action":"insert","lines":["",""]},{"start":{"row":42,"column":0},"end":{"row":42,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":16},"end":{"row":45,"column":0},"action":"insert","lines":["",""]},{"start":{"row":45,"column":0},"end":{"row":45,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":52,"column":29},"action":"remove","lines":["return false;"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":13},"end":{"row":54,"column":0},"action":"insert","lines":["",""]},{"start":{"row":54,"column":0},"end":{"row":54,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":12},"end":{"row":54,"column":25},"action":"insert","lines":["return false;"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":0},"end":{"row":52,"column":16},"action":"remove","lines":["                ","                "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":17},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":45,"column":52},"end":{"row":45,"column":53},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":45,"column":52},"end":{"row":45,"column":53},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":16},"end":{"row":50,"column":17},"action":"remove","lines":["quiz.infoFromServer = JSON.parse(xhrSend.responseText);","                quiz.serverName = quiz.infoFromServer.nextURL;","                ","                if(quiz.infoFromServer.message === \"Correct answer!\"){","                    nodeAnswerFromServer.innerHTML = \"Du svarade rätt!\";","                }","                else{","                    nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","                }"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":16},"end":{"row":41,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":17},"end":{"row":41,"column":18},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":18},"end":{"row":41,"column":20},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":20},"end":{"row":41,"column":21},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":21},"end":{"row":43,"column":17},"action":"insert","lines":["","                    ","                }"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":20},"end":{"row":50,"column":17},"action":"insert","lines":["quiz.infoFromServer = JSON.parse(xhrSend.responseText);","                quiz.serverName = quiz.infoFromServer.nextURL;","                ","                if(quiz.infoFromServer.message === \"Correct answer!\"){","                    nodeAnswerFromServer.innerHTML = \"Du svarade rätt!\";","                }","                else{","                    nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","                }"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":0},"end":{"row":43,"column":4},"action":"insert","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":15},"end":{"row":50,"column":16},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":12},"end":{"row":50,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":12},"end":{"row":50,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":16},"end":{"row":50,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":20},"end":{"row":50,"column":21},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":20},"end":{"row":50,"column":21},"action":"remove","lines":["else{","                        nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","                    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":16},"end":{"row":52,"column":21},"action":"insert","lines":["else{","                        nodeAnswerFromServer.innerHTML = \"Du svarade fel!\";","                    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":52,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":20},"end":{"row":51,"column":24},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":21},"end":{"row":48,"column":0},"action":"insert","lines":["",""]},{"start":{"row":48,"column":0},"end":{"row":48,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":20},"end":{"row":48,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":20},"end":{"row":48,"column":21},"action":"remove","lines":["e"]},{"start":{"row":48,"column":20},"end":{"row":48,"column":24},"action":"insert","lines":["else"]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":0},"end":{"row":48,"column":24},"action":"remove","lines":["                    else"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":21},"end":{"row":48,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":43},"end":{"row":40,"column":93},"action":"remove","lines":["(xhrSend.status === 200 || xhrSend.status === 304)"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":19},"end":{"row":41,"column":69},"action":"insert","lines":["(xhrSend.status === 200 || xhrSend.status === 304)"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":19},"end":{"row":41,"column":20},"action":"remove","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":67},"end":{"row":41,"column":68},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":41},"end":{"row":40,"column":42},"action":"remove","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":40},"end":{"row":40,"column":41},"action":"remove","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":39},"end":{"row":40,"column":40},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":20},"end":{"row":50,"column":21},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":21},"end":{"row":50,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":22},"end":{"row":50,"column":23},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":23},"end":{"row":50,"column":24},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":24},"end":{"row":50,"column":25},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":24},"end":{"row":50,"column":46},"action":"insert","lines":["xhrSend.status === 200"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":43},"end":{"row":50,"column":44},"action":"remove","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":43},"end":{"row":50,"column":44},"action":"insert","lines":["4"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":10},"end":{"row":56,"column":0},"action":"insert","lines":["",""]},{"start":{"row":56,"column":0},"end":{"row":56,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":8},"action":"remove","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":8},"end":{"row":60,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":4},"end":{"row":59,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":54},"end":{"row":59,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":0},"end":{"row":29,"column":8},"action":"remove","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":8},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":26,"column":8},"action":"remove","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":8},"end":{"row":26,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":21,"column":35},"end":{"row":21,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1418240163088}